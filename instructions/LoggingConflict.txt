—Ç–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ (SLF4J) –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –≤ –≤–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ –Ω–∞–π–¥–µ–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è (Logback –∏ Log4j 2), –Ω–æ SLF4J –≤—ã–±—Ä–∞–ª –æ–¥–Ω—É –∏–∑ –Ω–∏—Ö (Logback).
–ü–æ—á–µ–º—É —ç—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç?

SLF4J ‚Äî —ç—Ç–æ —Ñ–∞—Å–∞–¥ (–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å) –¥–ª—è –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è, –Ω–æ –µ–º—É –Ω—É–∂–Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è (–Ω–∞–ø—Ä–∏–º–µ—Ä, Logback, Log4j 2, java.util.logging).
–ï—Å–ª–∏ –≤ classpath –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∞–∫–∏—Ö —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–π, SLF4J –≤—ã–¥–∞—ë—Ç –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –ø–µ—Ä–≤—É—é –Ω–∞–π–¥–µ–Ω–Ω—É—é (–≤ –≤–∞—à–µ–º —Å–ª—É—á–∞–µ ‚Äî Logback).
–ö–∞–∫ –∏—Å–ø—Ä–∞–≤–∏—Ç—å?

–ù—É–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é, –∏—Å–∫–ª—é—á–∏–≤ –ª–∏—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏.
üîπ 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–ó–∞–ø—É—Å—Ç–∏:
bash

mvn dependency:tree | grep slf4j

–∏–ª–∏ –¥–ª—è Gradle:
bash

gradle dependencies | grep slf4j

–í—ã —É–≤–∏–¥–∏—Ç–µ —á—Ç–æ-—Ç–æ –≤—Ä–æ–¥–µ:

[INFO] +- ch.qos.logback:logback-classic:jar:1.2.11:runtime
[INFO] +- org.apache.logging.log4j:log4j-slf4j-impl:jar:2.17.1:runtime

–ó–¥–µ—Å—å –≤–∏–¥–Ω–æ, —á—Ç–æ –µ—Å—Ç—å Logback –∏ Log4j 2.
üîπ 2. –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é
–í–∞—Ä–∏–∞–Ω—Ç A: –û—Å—Ç–∞–≤–∏—Ç—å Logback (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è Spring Boot)

Spring Boot –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Logback.
–ò—Å–∫–ª—é—á–∏ Log4j 2 –∏–∑ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:
xml

<!-- Maven: pom.xml -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
    <exclusions>
        <exclusion>
            <groupId>org.apache.logging.log4j</groupId>
            <artifactId>log4j-to-slf4j</artifactId>
        </exclusion>
    </exclusions>
</dependency>

–í–∞—Ä–∏–∞–Ω—Ç B: –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ Log4j 2

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Log4j 2, –∏—Å–∫–ª—é—á–∏—Ç–µ Logback:
xml

<!-- Maven: pom.xml -->
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-web</artifactId>
    <exclusions>
        <exclusion>
            <groupId>ch.qos.logback</groupId>
            <artifactId>logback-classic</artifactId>
        </exclusion>
    </exclusions>
</dependency>
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-starter-log4j2</artifactId>
</dependency>

üîπ 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–ª–∏–∫—Ç—ã –≤ –¥—Ä—É–≥–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫–∞—Ö

–ù–µ–∫–æ—Ç–æ—Ä—ã–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, Kafka, Hibernate) –º–æ–≥—É—Ç —Ç—è–Ω—É—Ç—å —Å–≤–æ–∏ –ª–æ–≥–∏.
–ò—Å–∫–ª—é—á–∏—Ç–µ –∏—Ö SLF4J-–±–∏–Ω–¥–∏–Ω–≥–∏, –µ—Å–ª–∏ –æ–Ω–∏ –Ω–µ –Ω—É–∂–Ω—ã:
xml

<dependency>
    <groupId>org.apache.kafka</groupId>
    <artifactId>kafka-clients</artifactId>
    <exclusions>
        <exclusion>
            <groupId>org.slf4j</groupId>
            <artifactId>slf4j-log4j12</artifactId>
        </exclusion>
    </exclusions>
</dependency>

üîπ 4. –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –Ω–µ—Ç –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è jar-—Ñ–∞–π–ª–æ–≤

–ò–Ω–æ–≥–¥–∞ –ø—Ä–æ–±–ª–µ–º–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç –∏–∑-–∑–∞ —Ä—É—á–Ω–æ–≥–æ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –±–∏–±–ª–∏–æ—Ç–µ–∫ –≤ lib/.
–ü—Ä–æ–≤–µ—Ä—å—Ç–µ:

    target/ (–¥–ª—è Maven)

    build/libs/ (–¥–ª—è Gradle)

    –í—Ä—É—á–Ω—É—é –¥–æ–±–∞–≤–ª–µ–Ω–Ω—ã–µ jar-—Ñ–∞–π–ª—ã.

–ß—Ç–æ –¥–µ–ª–∞—Ç—å, –µ—Å–ª–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–µ –ø–æ–º–æ–≥–ª–æ?

    –û—á–∏—Å—Ç–∏—Ç–µ –∫—ç—à —Å–±–æ—Ä–∫–∏:
    bash

mvn clean
gradle clean

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ src/main/resources:
–£–¥–∞–ª–∏—Ç–µ –ª–∏—à–Ω–∏–µ —Ñ–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (–Ω–∞–ø—Ä–∏–º–µ—Ä, log4j2.xml, –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Logback).

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å -Dslf4j.detectLoggerNameMismatch=true:
bash

    mvn spring-boot:run -Dslf4j.detectLoggerNameMismatch=true

    –≠—Ç–æ –ø–æ–∫–∞–∂–µ—Ç –±–æ–ª—å—à–µ –¥–µ—Ç–∞–ª–µ–π.

–ò—Ç–æ–≥

–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –Ω–µ –∫—Ä–∏—Ç–∏—á–Ω–æ, –Ω–æ –ª—É—á—à–µ –æ—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–Ω—É —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é –ª–æ–≥–≥–∏—Ä–æ–≤–∞–Ω–∏—è.

    Spring Boot –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Logback ‚Äî –ø—Ä–æ—â–µ –∏—Å–∫–ª—é—á–∏—Ç—å Log4j 2.

    –ï—Å–ª–∏ –Ω—É–∂–µ–Ω Log4j 2, –ø–æ–¥–∫–ª—é—á–∏—Ç–µ spring-boot-starter-log4j2 –∏ –∏—Å–∫–ª—é—á–∏—Ç–µ Logback.

–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ