–û—Ç–ª–∏—á–Ω–æ! –ù–∞—Å—Ç—Ä–æ–∏–º —Ç–µ—Å—Ç –¥–ª—è Firefox –Ω–∞ Linux Mint. –í–æ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è:
1. –û–±–Ω–æ–≤–ª—è–µ–º —Ç–µ—Å—Ç (MessageFlowTest.java)
java
Copy

package demo.e2e;

import com.codeborne.selenide.Configuration;
import org.junit.Before;
import org.junit.Test;

import static com.codeborne.selenide.Condition.*;
import static com.codeborne.selenide.Selenide.*;

public class MessageFlowTest {

    @Before
    public void setUp() {
        Configuration.browser = "firefox";
        Configuration.baseUrl = "http://localhost:8082";
        Configuration.timeout = 10000;
        Configuration.headless = true; // –î–ª—è –∑–∞–ø—É—Å–∫–∞ –±–µ–∑ GUI (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    }

    @Test
    public void testMessageFlow() {
        open("/");
        // ... –æ—Å—Ç–∞–ª—å–Ω–æ–π –∫–æ–¥ —Ç–µ—Å—Ç–∞ –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ...
    }
}

2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ Firefox –∏ Geckodriver

    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Firefox (–µ—Å–ª–∏ –µ—â—ë –Ω–µ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω):
    bash
    Copy

    sudo apt update && sudo apt install firefox -y

    –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Geckodriver (–¥—Ä–∞–π–≤–µ—Ä –¥–ª—è Firefox):
    bash
    Copy

    # –°–∫–∞—á–∞–µ–º –ø–æ—Å–ª–µ–¥–Ω—é—é –≤–µ—Ä—Å–∏—é
    wget https://github.com/mozilla/geckodriver/releases/download/v0.34.0/geckodriver-v0.34.0-linux64.tar.gz

    # –†–∞—Å–ø–∞–∫—É–µ–º –∏ –ø–µ—Ä–µ–º–µ—Å—Ç–∏–º –≤ /usr/local/bin
    tar -xvzf geckodriver-*
    sudo mv geckodriver /usr/local/bin/
    sudo chmod +x /usr/local/bin/geckodriver

    # –ü—Ä–æ–≤–µ—Ä–∏–º –≤–µ—Ä—Å–∏—é
    geckodriver --version

    –î–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ –¥—Ä–∞–π–≤–µ—Ä—É –≤ —Ç–µ—Å—Ç (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):
    java
    Copy

    @Before
    public void setUp() {
        System.setProperty("webdriver.gecko.driver", "/usr/local/bin/geckodriver");
        // ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ ...
    }

3. –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞
bash
Copy

cd app3
mvn test -Dtest=MessageFlowTest

4. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Firefox

–ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å Firefox, –¥–æ–±–∞–≤—å—Ç–µ –≤ —Ç–µ—Å—Ç:
java
Copy

import com.codeborne.selenide.WebDriverRunner;
import org.openqa.selenium.firefox.FirefoxOptions;

@Before
public void setUp() {
    FirefoxOptions options = new FirefoxOptions();
    options.addArguments("--width=1920");
    options.addArguments("--height=1080");
    WebDriverRunner.setWebDriver(new FirefoxDriver(options));

    Configuration.baseUrl = "http://localhost:8082";
}

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–Ω—É—Ç –ø—Ä–æ–±–ª–µ–º—ã:

    –û—à–∏–±–∫–∞ "geckodriver not found":

        –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ geckodriver –≤ PATH:
        bash
        Copy

        echo $PATH
        which geckodriver

    –û—à–∏–±–∫–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ –≤–µ—Ä—Å–∏–π:

        –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å –≤–µ—Ä—Å–∏–π:

            Firefox: firefox --version

            Geckodriver: geckodriver --version

        –ê–∫—Ç—É–∞–ª—å–Ω—ã–µ –≤–µ—Ä—Å–∏–∏: Geckodriver Releases

–¢–µ–ø–µ—Ä—å —Ç–µ—Å—Ç –±—É–¥–µ—Ç –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –≤ Firefox. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å —á—Ç–æ-—Ç–æ –µ—â—ë ‚Äî –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å! ü¶ä


====================================================================================================================
1. –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–π Geckodriver
bash
Copy

sudo rm /usr/local/bin/geckodriver

2. –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø—Ä–∞–≤–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é Geckodriver (0.36.0)
bash
Copy

# –°–∫–∞—á–∏–≤–∞–µ–º —Å–æ–≤–º–µ—Å—Ç–∏–º—É—é –≤–µ—Ä—Å–∏—é
wget https://github.com/mozilla/geckodriver/releases/download/v0.36.0/geckodriver-v0.36.0-linux64.tar.gz

# –†–∞—Å–ø–∞–∫–æ–≤—ã–≤–∞–µ–º –∏ —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º
tar -xvzf geckodriver-v0.36.0-linux64.tar.gz
sudo mv geckodriver /usr/local/bin/
sudo chmod +x /usr/local/bin/geckodriver

# –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤–µ—Ä—Å–∏—é
geckodriver --version

3. –ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π –≤–∞—Ä–∏–∞–Ω—Ç - —á–µ—Ä–µ–∑ Selenide

Selenide –º–æ–∂–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–∫–∞—á–∏–≤–∞—Ç—å –Ω—É–∂–Ω—ã–π –¥—Ä–∞–π–≤–µ—Ä. –ü—Ä–æ—Å—Ç–æ —É–±–µ—Ä–∏—Ç–µ —Ä—É—á–Ω—É—é —É—Å—Ç–∞–Ω–æ–≤–∫—É Geckodriver –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ —Ç–µ—Å—Ç:
java
Copy

@Before
public void setUp() {
    Configuration.browser = "firefox";
    Configuration.browserVersion = "136"; // –Ø–≤–Ω–æ —É–∫–∞–∑—ã–≤–∞–µ–º –≤–µ—Ä—Å–∏—é Firefox
    Configuration.driverManagerEnabled = true; // –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ—Å–∫–∞—á–∏–≤–∞–Ω–∏–µ –¥—Ä–∞–π–≤–µ—Ä–æ–≤
    Configuration.baseUrl = "http://localhost:8082";
}

4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤–µ—Ä—Å–∏–π

–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏–∏ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã:
bash
Copy

firefox --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 136.*
geckodriver --version  # –î–æ–ª–∂–Ω–æ –±—ã—Ç—å 0.36.0

5. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è

    –û–±–Ω–æ–≤–∏—Ç–µ Firefox –¥–æ –ø–æ—Å–ª–µ–¥–Ω–µ–π –≤–µ—Ä—Å–∏–∏:

bash
Copy

sudo apt update && sudo apt upgrade firefox -y

    –ò–ª–∏ –∑–∞—Ñ–∏–∫—Å–∏—Ä—É–π—Ç–µ –≤–µ—Ä—Å–∏—é Firefox:

bash
Copy

sudo apt install firefox=136.0.1-1

–ü–æ—Å–ª–µ —ç—Ç–∏—Ö –¥–µ–π—Å—Ç–≤–∏–π —Ç–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã –∑–∞–ø—É—Å–∫–∞—Ç—å—Å—è –±–µ–∑ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–π. –ï—Å–ª–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è –ø—Ä–æ–±–ª–µ–º—ã - –¥–∞–π—Ç–µ –∑–Ω–∞—Ç—å, —Ä–∞–∑–±–µ—Ä—ë–º—Å—è!
==============================================================================
–ï—Å–ª–∏ ID –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏, –º–æ–∂–Ω–æ:

    –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID

    –ò—Å–∫–∞—Ç—å –ø–æ CSS-—Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º:
    java
    Copy

    $("input[name='message']").setValue("Test"); // –ü–æ –∞—Ç—Ä–∏–±—É—Ç—É name
    $("button:has-text('–û—Ç–ø—Ä–∞–≤–∏—Ç—å')").click(); // –ü–æ —Ç–µ–∫—Å—Ç—É –∫–Ω–æ–ø–∫–∏