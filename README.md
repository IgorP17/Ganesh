# Ganesh

Проект Ganesh состоит из трёх модулей: `app1`, `app2` и `app3`. Эти модули взаимодействуют через Apache Kafka и базу данных для обработки запросов и управления их статусами.

---

## Модули

### app1 (Бэкенд)

**Описание:**  
`app1` — это бэкенд-приложение, которое принимает POST-запросы с данными, отправляет их в топик Kafka и сохраняет запросы в базу данных.

**Функциональность:**
- **REST API:**
    - `POST /api/send`: Принимает JSON-сообщение и отправляет его в Kafka.
        - Пример запроса:
          ```json
          {"message": "Hello, Kafka! 2025-03-16 10-55-00"}
          ```
        - Ответ: ID запроса.
    - `GET /api/request/{id}`: Возвращает информацию о запросе по его ID (данные из базы данных и Kafka).

- **Kafka:**
    - Отправляет сообщения в топик `requests`.

- **База данных:**
    - Сохраняет запросы в таблицу `requests`.
    - Обновляет статус запроса в таблице `processed_requests`.

---

### app2 (Потребитель Kafka)

**Описание:**  
`app2` — это приложение, которое читает сообщения из топика Kafka, сохраняет данные в базу данных и отправляет статус обработки в статусный топик Kafka.

**Функциональность:**
- **Kafka Consumer:**
    - Подписывается на топик `requests`.
    - Обрабатывает сообщения и сохраняет их в таблицу `processed_requests`.

- **База данных:**
    - Сохраняет обработанные запросы в таблицу `processed_requests`.

- **Kafka Producer:**
    - Отправляет статус обработки в топик `status-topic`.

---

### app3 (Frontend)

**Описание:**  
`app3` — это веб-интерфейс, который позволяет пользователям отправлять запросы, искать их по ID и отслеживать статусы обработки.

**Функциональность:**
- **Отправка сообщений:**  
  Пользователи могут вводить JSON-сообщения и отправлять их через REST API в `app1`.

- **Поиск запросов:**  
  Поддерживается два типа поиска:
    - Поиск по ID в таблице `requests`.
    - Поиск по ID в таблице `processed_requests`.

- **Отображение результатов:**  
  Результаты запросов отображаются в удобочитаемом формате на веб-странице.

- **Интеграция с backend:**  
  Веб-интерфейс взаимодействует с `app1` и `app2` через REST API и Kafka.

---

## Взаимодействие

1. Пользователь вводит запрос на веб-странице `app3` и отправляет его через REST API в `app1`.
2. `app1` сохраняет запрос в базу данных и отправляет его в топик Kafka `requests`.
3. `app2` читает сообщение из топика `requests`, обрабатывает его и сохраняет результат в базу данных.
4. `app2` отправляет статус обработки в топик `status-topic`.
5. Пользователь может запросить статус обработки через `GET /api/request/{id}` в `app1` и увидеть результаты на веб-странице `app3`.

---

## Технологии

- **Язык программирования:** Java
- **Фреймворки:** Spring Boot, Spring Kafka, Spring Data JPA
- **База данных:** PostgreSQL
- **Брокер сообщений:** Apache Kafka
- **Логирование:** Logback/SLF4J
- **Frontend:** HTML, CSS, JavaScript

---

## Запуск проекта

1. Убедитесь, что установлены:
    - Java 17+
    - Apache Kafka
    - PostgreSQL

2. Клонируйте репозиторий:
   ```bash
   git clone https://github.com/IgorP17/Ganesh.git
   cd Ganesh